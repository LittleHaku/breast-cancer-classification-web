{% extends 'base.html' %}

{% load static %}

{% block title %}Classifier Comparison{% endblock %}

{% block content %}
<div class="comparison">
    <h2>Comparison: <a href="{% url 'classifier_detail' classifier1.id %}">{{ classifier1.name }}</a> vs <a
            href="{% url 'classifier_detail' classifier2.id %}">{{ classifier2.name }}</a></h2>

    <table>
        <thead>
            <tr>
                <th>Metric</th>
                <th>{{ classifier1.name }}</th>
                <th>{{ classifier2.name }}</th>
            </tr>
        </thead>
        <tbody>
            {% for metric1, metric2 in metrics %}
            <tr>
                <td><strong>F1 Score</strong></td>
                <td>{{ metric1.f1_score }}</td>
                <td>{{ metric2.f1_score }}</td>
            </tr>
            <tr>
                <td><strong>Recall</strong></td>
                <td>{{ metric1.recall }}</td>
                <td>{{ metric2.recall }}</td>
            </tr>
            <tr>
                <td><strong>F2 Score</strong></td>
                <td>{{ metric1.f2_score }}</td>
                <td>{{ metric2.f2_score }}</td>
            </tr>
            <tr>
                <td><strong>Balanced Accuracy</strong></td>
                <td>{{ metric1.balanced_accuracy }}</td>
                <td>{{ metric2.balanced_accuracy }}</td>
            </tr>

        </tbody>
    </table>
    <h3>Confusion Matrices</h3>
    <div class="confusion-matrices">

        <img src="{% static metric1.confusion_matrix %}" alt="Confusion Matrix" style="max-width: 800px; height: auto;">

        <img src="{% static metric2.confusion_matrix %}" alt="Confusion Matrix" style="max-width: 800px; height: auto;">

    </div>
    {% endfor %}
    {% endblock %}